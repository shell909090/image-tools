# 图片切分工具

## 功能描述

本脚本用于将四格 PNG 图片切分成 2x2 的四张单独图片。脚本会自动遍历 `imgs` 目录下的所有 PNG 文件，将每张图片按照 2x2 的网格切分成四张图片，并保存到 `new-imgs` 目录。

## 快速开始

### 前置要求

- Python 3.x
- Pillow 库（PIL）

### 安装依赖

```bash
pip install Pillow
```

### 使用方法

1. **准备图片**
   - 将要切分的四格 PNG 图片放入 `imgs` 目录

2. **运行脚本**
   ```bash
   python split_images.py
   ```

3. **查看结果**
   - 切分后的图片会自动保存到 `new-imgs` 目录

## 目录结构

```
backend/split/
├── split_images.py    # 主脚本文件
├── imgs/              # 输入目录（存放待切分的四格图片）
└── new-imgs/          # 输出目录（自动创建，存放切分后的图片）
```

## 切分规则

### 输入要求
- 图片格式：PNG
- 图片布局：2x2 四格图片（即图片会被平均分成四等份）

### 切分方式
每张图片会被切分成 2x2 的四张图片，切分顺序如下：

```
┌─────────┬─────────┐
│   左上   │   右上   │  ← 第一行
│  (_1)   │  (_2)   │
├─────────┼─────────┤
│   左下   │   右下   │  ← 第二行
│  (_3)   │  (_4)   │
└─────────┴─────────┘
```

### 输出命名规则

- 原文件名：`example.png`
- 切分后的文件：
  - `example_1.png` - 左上角
  - `example_2.png` - 右上角
  - `example_3.png` - 左下角
  - `example_4.png` - 右下角

## 使用示例

假设 `imgs` 目录下有以下文件：
```
imgs/
├── image1.png
├── image2.png
└── image3.png
```

运行脚本后，`new-imgs` 目录会生成：
```
new-imgs/
├── image1_1.png
├── image1_2.png
├── image1_3.png
├── image1_4.png
├── image2_1.png
├── image2_2.png
├── image2_3.png
├── image2_4.png
├── image3_1.png
├── image3_2.png
├── image3_3.png
└── image3_4.png
```

## 注意事项

1. **图片尺寸**：脚本会将图片宽度和高度各分成两半，确保图片尺寸是偶数像素，否则可能会有 1 像素的误差
2. **文件格式**：目前仅支持 PNG 格式的图片
3. **输出目录**：如果 `new-imgs` 目录不存在，脚本会自动创建
4. **文件覆盖**：如果输出目录中已存在同名文件，会被覆盖
5. **错误处理**：如果某张图片处理失败，会显示错误信息，但不会影响其他图片的处理

## 技术实现

- 使用 Pillow 库的 `Image.crop()` 方法进行图片裁剪
- 按照图片的中心点将图片分成四个象限
- 每个象限的尺寸为原图的 1/4（宽度和高度各为原图的 1/2）
